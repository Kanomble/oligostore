{% extends "core/base.html" %}
{% block title %}Primer List{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-8">
    <h1 class="text-3xl font-bold">Primers</h1>

    <a href="{% url 'primer_create' %}" class="btn btn-primary">
        + Add Primer
    </a>

    <a href="{% url 'primerpair_create' %}" class="btn btn-primary">
        + Create Primer Pair
    </a>

    <a href="{% url 'primerpair_combined_create' %}" class="btn btn-primary">
        + Create Primer Pair (with new primers)
    </a>
</div>

{% if primers %}
<div class="overflow-x-auto">
    <table class="table table-zebra w-full">
        <thead>
            <tr>
                <th>Name</th>
                <th>Sequence</th>
                <th>Length</th>
                <th>GC Content</th>
                <th>Temperature</th>
                <th>Hairpin</th>
                <th>Self Dimer</th>
                <th>Creator</th>
                <th>Created</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for primer in primers %}
            <tr>
                <td class="font-semibold">{{ primer.primer_name }}</td>
                <td class="truncate max-w-xs">{{ primer.sequence }}</td>
                <td>{{ primer.length }}</td>
                <td>{{ primer.gc_content }}</td>
                <td>{{ primer.tm }}</td>
                <td>{{ primer.hairpin_dg }}</td>
                <td>{{ primer.self_dimer_dg }}</td>
                <td>{{ primer.creator }}</td>
                <td>{{ primer.created_at|date:"Y-m-d H:i" }}</td>
                <td>
                    <a href="{% url 'primer_delete' primer.id %}" 
                       class="btn btn-error btn-sm"
                       onclick="return confirm('Delete this primer?');">
                        Delete
                    </a>
                </td>
                <td>
                    <a
                      href="{% url 'primer_binding' %}?primer={{ primer.id }}"
                      class="btn btn-sm btn-outline"
                    >
                      Binding analysis
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% include "core/pagination.html" %}
{% else %}
<p class="text-center opacity-60 mt-10">No primers yet.</p>
{% endif %}
{% endblock %}
